<Window x:Class="TaskManager.Views.TaskEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="任务编辑" Height="600" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 标题 -->
        <TextBlock Grid.Row="0" Name="txtWindowTitle" Text="添加任务" 
                  FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>
        
        <!-- 表单内容 -->
        <ScrollViewer Grid.Row="1">
            <StackPanel>
                <!-- 基本信息 -->
                <GroupBox Header="基本信息" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Label Content="任务标题:"/>
                        <TextBox Name="txtTitle" Margin="0,0,0,10"/>
                        
                        <Label Content="任务描述:"/>
                        <TextBox Name="txtDescription" Height="60" TextWrapping="Wrap" 
                                AcceptsReturn="True" Margin="0,0,0,10"/>
                        
                        <Label Content="四象限分类:"/>
                        <ComboBox Name="cmbQuadrant" Margin="0,0,0,10"/>
                        
                        <Label Content="任务分类:"/>
                        <ComboBox Name="cmbCategory" Margin="0,0,0,10"/>
                        
                        <Label Content="优先级:"/>
                        <ComboBox Name="cmbPriority" Margin="0,0,0,10"/>
                        
                        <Label Content="任务状态:"/>
                        <ComboBox Name="cmbStatus"/>
                    </StackPanel>
                </GroupBox>
                
                <!-- 时间设置 -->
                <GroupBox Header="时间设置" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Label Content="截止日期:"/>
                        <DatePicker Name="dpDueDate" Margin="0,0,0,10"/>
                        
                        <CheckBox Name="chkAllDay" Content="全天任务" IsChecked="True" 
                                 Checked="AllDay_Changed" Unchecked="AllDay_Changed" Margin="0,0,0,10"/>
                        
                        <StackPanel Name="pnlTimeRange" Visibility="Collapsed">
                            <Label Content="开始时间:"/>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <DatePicker Name="dpStartDate" Width="120"/>
                                <ComboBox Name="cmbStartHour" Width="60" Margin="10,0,0,0"/>
                                <TextBlock Text=":" VerticalAlignment="Center" Margin="5,0"/>
                                <ComboBox Name="cmbStartMinute" Width="60"/>
                            </StackPanel>
                            
                            <Label Content="结束时间:"/>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <DatePicker Name="dpEndDate" Width="120"/>
                                <ComboBox Name="cmbEndHour" Width="60" Margin="10,0,0,0"/>
                                <TextBlock Text=":" VerticalAlignment="Center" Margin="5,0"/>
                                <ComboBox Name="cmbEndMinute" Width="60"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <!-- 标签设置 -->
                <GroupBox Header="标签设置" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Label Content="选择标签:"/>
                        <WrapPanel Name="pnlAvailableTags" Margin="0,0,0,10"/>
                        
                        <Label Content="已选标签:"/>
                        <WrapPanel Name="pnlSelectedTags" Margin="0,0,0,10" MinHeight="30" 
                                  Background="#F5F5F5"/>
                        
                        <StackPanel Orientation="Horizontal">
                            <Button Name="btnCreateTag" Content="创建新标签" Padding="10,5" 
                                   Click="CreateTag_Click"/>
                            <Button Name="btnClearTags" Content="清空标签" Padding="10,5" 
                                   Margin="10,0,0,0" Click="ClearTags_Click"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <!-- 按钮区域 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" 
                   Margin="0,20,0,0">
            <Button Name="btnSave" Content="保存" Padding="20,8" Margin="0,0,10,0" 
                   Click="Save_Click" IsDefault="True"/>
            <Button Name="btnCancel" Content="取消" Padding="20,8" Click="Cancel_Click" 
                   IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>