<Window x:Class="TaskManager.Views.TaskEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ä»»åŠ¡ç¼–è¾‘" Height="600" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- æ ‡é¢˜ -->
        <TextBlock Grid.Row="0" Name="txtWindowTitle" Text="æ·»åŠ ä»»åŠ¡" 
                  FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>
        
        <!-- è¡¨å•å†…å®¹ -->
        <ScrollViewer Grid.Row="1">
            <StackPanel>
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <GroupBox Header="åŸºæœ¬ä¿¡æ¯" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Label Content="ä»»åŠ¡æ ‡é¢˜:"/>
                        <TextBox Name="txtTitle" Margin="0,0,0,10"/>
                        
                        <Label Content="ä»»åŠ¡æè¿°:"/>
                        <TextBox Name="txtDescription" Height="60" TextWrapping="Wrap" 
                                AcceptsReturn="True" Margin="0,0,0,10"/>
                        
                        <Label Content="å››è±¡é™åˆ†ç±»:"/>
                        <ComboBox Name="cmbQuadrant" Margin="0,0,0,10"/>
                        
                        <Label Content="ä»»åŠ¡åˆ†ç±»:"/>
                        <ComboBox Name="cmbCategory" Margin="0,0,0,10"/>
                        
                        <Label Content="ä¼˜å…ˆçº§:"/>
                        <ComboBox Name="cmbPriority" Margin="0,0,0,10"/>
                        
                        <Label Content="ä»»åŠ¡çŠ¶æ€:"/>
                        <ComboBox Name="cmbStatus"/>
                    </StackPanel>
                </GroupBox>
                
                <!-- æ—¶é—´è®¾ç½® -->
                <GroupBox Header="æ—¶é—´è®¾ç½®" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Label Content="æˆªæ­¢æ—¥æœŸ:"/>
                        <DatePicker Name="dpDueDate" Margin="0,0,0,10"/>
                        
                        <CheckBox Name="chkAllDay" Content="å…¨å¤©ä»»åŠ¡" IsChecked="True" 
                                 Checked="AllDay_Changed" Unchecked="AllDay_Changed" Margin="0,0,0,10"/>
                        
                        <StackPanel Name="pnlTimeRange" Visibility="Collapsed">
                            <Label Content="å¼€å§‹æ—¶é—´:"/>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <DatePicker Name="dpStartDate" Width="120"/>
                                <ComboBox Name="cmbStartHour" Width="60" Margin="10,0,0,0"/>
                                <TextBlock Text=":" VerticalAlignment="Center" Margin="5,0"/>
                                <ComboBox Name="cmbStartMinute" Width="60"/>
                            </StackPanel>
                            
                            <Label Content="ç»“æŸæ—¶é—´:"/>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <DatePicker Name="dpEndDate" Width="120"/>
                                <ComboBox Name="cmbEndHour" Width="60" Margin="10,0,0,0"/>
                                <TextBlock Text=":" VerticalAlignment="Center" Margin="5,0"/>
                                <ComboBox Name="cmbEndMinute" Width="60"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <!-- æ ‡ç­¾è®¾ç½® -->
                <GroupBox Header="æ ‡ç­¾è®¾ç½®" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <Label Content="å¯é€‰æ ‡ç­¾:" FontWeight="Bold"/>
                        <Border BorderBrush="LightGray" BorderThickness="1" Padding="8" 
                               Margin="0,5,0,15" MinHeight="80" Background="White">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="120">
                                <WrapPanel Name="pnlAvailableTags"/>
                            </ScrollViewer>
                        </Border>
                        
                        <Label Content="å·²é€‰æ ‡ç­¾:" FontWeight="Bold"/>
                        <Border BorderBrush="LightGray" BorderThickness="1" Padding="8" 
                               Margin="0,5,0,15" MinHeight="40" Background="#F8F8F8">
                            <WrapPanel Name="pnlSelectedTags"/>
                        </Border>
                        
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Name="btnCreateTag" Content="âž• åˆ›å»ºæ–°æ ‡ç­¾" Padding="12,6" 
                                   Click="CreateTag_Click" Background="#4CAF50" Foreground="White"
                                   BorderThickness="0"/>
                            <Button Name="btnClearTags" Content="ðŸ—‘ï¸ æ¸…ç©ºæ ‡ç­¾" Padding="12,6" 
                                   Margin="15,0,0,0" Click="ClearTags_Click" Background="#FF5722" 
                                   Foreground="White" BorderThickness="0"/>
                        </StackPanel>
                        
                        <TextBlock Text="ðŸ’¡ ç‚¹å‡»å¯é€‰æ ‡ç­¾æ·»åŠ åˆ°ä»»åŠ¡ï¼Œç‚¹å‡»å·²é€‰æ ‡ç­¾çš„ Ã— ç§»é™¤" 
                                  FontSize="11" Foreground="Gray" TextAlignment="Center" 
                                  Margin="0,10,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <!-- æŒ‰é’®åŒºåŸŸ -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" 
                   Margin="0,20,0,0">
            <Button Name="btnSave" Content="ä¿å­˜" Padding="20,8" Margin="0,0,10,0" 
                   Click="Save_Click" IsDefault="True"/>
            <Button Name="btnCancel" Content="å–æ¶ˆ" Padding="20,8" Click="Cancel_Click" 
                   IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>